# k3s-k3d-k8s-clusterops-kickstarter
K8s Rancher k3d (k3s) Cluster Ops kick starter repo to start up new k3d k8s clusters and lifecycle administration

#### Create k3d cluster (1 server k8s node, 3 worker nodes)

This creates a one server node/three worker node k8s cluster.

```
Sytax:
k3d cluster create <cluster-name> --agents (or -a) <int for # of agents> --servers (or -s) <int for # of server nodes> --verbose (full verbose output)

Actual use:
k3d cluster create k3dkickstart-cluster --agents 3 --servers 1 --verbose
```

#### Create k3d cluster (1 server k8s node, NO worker nodes) followed with additional instructions to add worker nodes

This creates a one server node/zero worker node k8s cluster. Additional instructions have to follow to add worker nodes (see the following).

```
k3d cluster create <cluster-name> --verbose
```

**or the explicit equivalent**

```
Syntax:
k3d cluster create <cluster-name> --servers <int for # of server nodes> --verbose

Actual use:
k3d cluster create k3dkickstart-cluster --servers 1 --verbose
```


#### Check K8s Context Config

```
cat $HOME/.kube/config

```

This will show the following:

```

apiVersion: v1
clusters:
- cluster:
    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURLakNDQWhLZ0F3SUJBZ0lRQldUQi91YjNWdXFyWlp5NXVCRGhqekFOQmdrcWhraUc5dzBCQVFzRkFEQXYKTVMwd0t3WURWUVFERXlRek5UQmpObVJqTXkxbVpUZG1MVFF5WXpNdFlqRXdaQzFsTlRkaU56bGpNR1l6WVRNdwpIaGNOTWpBeE1qQTVNVFl5TlRJeVdoY05NalV4TWpBNE1UY3lOVEl5V2pBdk1TMHdLd1lEVlFRREV5UXpOVEJqCk5tUmpNeTFtWlRkbUxUUXlZek10WWpFd1pDMWxOVGRpTnpsak1HWXpZVE13Z2dFaU1BMEdDU3FHU0liM0RRRUIKQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUURWenY1cmx3SG4wcFJHOHl1SVlNZzlreFVudlN1L0E5cGNFLzFvSEUvTwoveCtrMFkyMVY1aUtWeVl3dFB2R1Yzb2djTGFtditKSEZUNElDR25DdStRMmdCZjMzeVBpeEpuNjIyOWpjT2pZCmhIM293S2FWVWNSMFl4VllvL3VOR3hDNXlySzBOOU1tNnBrMVpzb0I0ZnpYMVdqaEFaekhzc0g5ZCtiRWhRWXIKV0ZHQ2dQeU8xMnJDYlpBR01aay9yWkMxMkNPQjhRcnJvUU8remxuOTY1bHM1VkxvR3IrKzhuRm9xeVk4VnpVNwp6N0pRbitWRy9ZMW1DaFZkcGkyNGFjZFN2K0FoaUNtRE1ZVzQ1US9BbG5aRDA5ZkNaQTc4ejdvQ3FTVlUxVXVwCmJYdVg0cllibm56ZWFvNmM0aFIyYVdnMEU3TS9wRnZNWURNa1J5SzgwcllyQWdNQkFBR2pRakJBTUE0R0ExVWQKRHdFQi93UUVBd0lDQkRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJRdlhSM0F4NDBQeWpDSgpyVFJST3dGL2szZUxnREFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBdko0SVA1R3duMXBvT001NzlXektxbEVLCnpUNVUrT05vWCt2YUMxbmZLcmVaK1JjR2dKMDg3b1Y0VklJdnI2VmFhdHhhVnVDOTRsTStPcnlBL1dpMnRKVEkKT0QvMUlhd25KdFgreVZmUFRxY2QrVTByRW1kamtiT1FjQmZvbkpvQ3diTDdvemJ3cXlvNEJMU2JFMno3bjVnMwpYT05aVmoxMCtYeVhlV2Jzb2RpOTZYUnNTSUlGZlFjcFFtNUxVRWdkbGNMT3A5Mno5MFNPSUlRUUhNYWY5VnpMClFjRDRMZUxRMFhnT2QvS2FKN1lna2cwNU1IaFlWS1RvYktFb3c0c0JKaHprTHZGeC9OVTg0ZFZ1VHNOQTErUE8KbVA0Qm1HNUNYdXpIWkZ3TWRzMlFCdGpSRjNWbW9NWVBEWjZyeEhSbzYvZ0R3UFZxRWZrR2didnhZejBJZ2c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    server: https://35.237.130.161
  name: gke_avalanche-dev_us-east1_av-gc-develop
- cluster:
    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJkakNDQVIyZ0F3SUJBZ0lCQURBS0JnZ3Foa2pPUFFRREFqQWpNU0V3SHdZRFZRUUREQmhyTTNNdGMyVnkKZG1WeUxXTmhRREUyTURrM056QTVNek13SGhjTk1qRXdNVEEwTVRRek5UTXpXaGNOTXpFd01UQXlNVFF6TlRNegpXakFqTVNFd0h3WURWUVFEREJock0zTXRjMlZ5ZG1WeUxXTmhRREUyTURrM056QTVNek13V1RBVEJnY3Foa2pPClBRSUJCZ2dxaGtqT1BRTUJCd05DQUFRSDdtWWIzOG5CRnA4VUxHamRMR002cWN4TlZRZ3dRR1huVnRQRlhBclMKYUR2d1RjcDVtMm90S3czeFFOREFSRW5FaFRiVTU2ay9NeHMxbi9WQ0tSRVpvMEl3UURBT0JnTlZIUThCQWY4RQpCQU1DQXFRd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFRmdRVW1MdXRUcFNURFNLN2kyY0RlcVhiClZaNTZvOHN3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnUWdTL2RUb015Rm96ZEMwUzJWb3JOOHgxcHRtSXRWUlEKeTNqU1Z0NFJJNVlDSUdqeDA3aGNiQ1NrRkZ3RFdtblVuZ0hBUGUvTHBGS0Jqa0VxY010UDh2R1YKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    server: https://0.0.0.0:57178
  name: k3d-k3s-default
contexts:
- context:
    cluster: gke_avalanche-dev_us-east1_av-gc-develop
    user: gke_avalanche-dev_us-east1_av-gc-develop
  name: gke_avalanche-dev_us-east1_av-gc-develop
- context:
    cluster: k3d-k3s-default
    user: admin@k3d-k3s-default
  name: k3d-k3s-default
current-context: k3d-k3s-default
kind: Config
preferences: {}
users:
- name: admin@k3d-k3s-default
  user:
    client-certificate-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJrVENDQVRlZ0F3SUJBZ0lJRVZlVWJpSjNVUXd3Q2dZSUtvWkl6ajBFQXdJd0l6RWhNQjhHQTFVRUF3d1kKYXpOekxXTnNhV1Z1ZEMxallVQXhOakE1Tnpjd09UTXpNQjRYRFRJeE1ERXdOREUwTXpVek0xb1hEVEl5TURFdwpOREUwTXpVek0xb3dNREVYTUJVR0ExVUVDaE1PYzNsemRHVnRPbTFoYzNSbGNuTXhGVEFUQmdOVkJBTVRESE41CmMzUmxiVHBoWkcxcGJqQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJOMUcxMU45WkNqTzkvdjIKb09haG9XOHc3RkxmM3MvU212ZUZkNmNmYkpyczBTNTFqSWM5MVNYbDUrMFhLbmxHU2V3cWpxeGpJdERYaGFVVwpuREJzSndxalNEQkdNQTRHQTFVZER3RUIvd1FFQXdJRm9EQVRCZ05WSFNVRUREQUtCZ2dyQmdFRkJRY0RBakFmCkJnTlZIU01FR0RBV2dCVGtJaHZvM3RQWTBjWGcza1BQU2VJVGd6TURtakFLQmdncWhrak9QUVFEQWdOSUFEQkYKQWlBK0hTNTlKUENkcHVmMGtCa2J0Y3Z1MjE3N3ErNWdPQlZLY3QrLzJQUExRUUloQUlRSFk4ZjliMnNtVmJRNwpMRS9lWllKaml0S0N1anlRUnpVdEM1cVhPZjh0Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJkakNDQVIyZ0F3SUJBZ0lCQURBS0JnZ3Foa2pPUFFRREFqQWpNU0V3SHdZRFZRUUREQmhyTTNNdFkyeHAKWlc1MExXTmhRREUyTURrM056QTVNek13SGhjTk1qRXdNVEEwTVRRek5UTXpXaGNOTXpFd01UQXlNVFF6TlRNegpXakFqTVNFd0h3WURWUVFEREJock0zTXRZMnhwWlc1MExXTmhRREUyTURrM056QTVNek13V1RBVEJnY3Foa2pPClBRSUJCZ2dxaGtqT1BRTUJCd05DQUFTVEdIZ252UlMyKzZEQ1FKM0xMSEI3SjR0US9kR1R6MFh5c0F4QjRZNHUKWm9LTDlUZVZiZ0R5dmFQamlDMGFHbkZrZC9oUDZGQ3NCVmtkZEFJRW5WNXhvMEl3UURBT0JnTlZIUThCQWY4RQpCQU1DQXFRd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFRmdRVTVDSWI2TjdUMk5IRjRONUR6MG5pCkU0TXpBNW93Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRFdIc1d1aG95aVM4T09neFJqck5LZmZPenNMY3lLZlcKME96aWZUSUxZcmNDSURyUFJNdGZZb25oSDVKZGR0K1ZXYVlTSlhlSnVrNWFtMmtJS2ZtYlhCYjgKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    client-key-data: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUs3TlRXYm16WW9DZ0h5ZVQ5a0ovSDhSTStKT2c2UHc4Y1dNVHNIQUJ0NDFvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFM1ViWFUzMWtLTTczKy9hZzVxR2hiekRzVXQvZXo5S2E5NFYzcHg5c211elJMbldNaHozVgpKZVhuN1JjcWVVWko3Q3FPckdNaTBOZUZwUmFjTUd3bkNnPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
- name: gke_avalanche-dev_us-east1_av-gc-develop
  user:
    auth-provider:
      config:
        access-token: ya29.a0AfH6SMDGKqBze9MU5nPDcYWnMq9V0jvetNTucbK3dehZxhaTstFy2UXrKD6zysfz-tSsY73mkuBXEnhWl1hVc8d9zwISBkIWVgrJU3Lx8ZwzOdeafSmNuCA-ncoutfPVgSAWV6-fLOzJ4oLdyRQAdyPYA59vGQsdhZfqugAS3ADoFR83zkKU
        cmd-args: config config-helper --format=json
        cmd-path: /usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/bin/gcloud
        expiry: "2020-12-31T19:39:14Z"
        expiry-key: '{.credential.token_expiry}'
        token-key: '{.credential.access_token}'
      name: gcp
```

